<div class="tab-container" style="width: 100%; height: 100%">
  <ng-container >
    <mat-tab-group [selectedIndex]="selected.value" (selectedIndexChange)="selected.setValue($event)" class="yellow">
      <mat-tab *ngFor="let tab of tabs; let i = index">
        <ng-template mat-tab-label class="drag-box">
          <div
            [id]="'tab-' + i"
            cdkDropList
            cdkDropListOrientation="horizontal"
            cdkDropListLockAxis="x"
            (cdkDropListDropped)="drop($event)"
            (cdkDropListSorted)="sort($event)"
            [cdkDropListConnectedTo]="getAllListConnections(i)"
            style="display: flex; height: 100%;width:100%"
            ng-attr-id="{'selected': selectedTab === i}"
            (click)="select(tab,i)"
            [ngClass]="{ focus: isSelected(tab) }"
          >
            <div class="drag-box" cdkDrag style="display: flex; align-items: center; height: 100%;width:100%; padding-left:20%;">{{ tab.label }}</div>
          </div>
          <div style="display: flex; justify-self: flex-end; align-items: center; height: 50%; padding: 5%">
            <button mat-icon-button (click)="closeTab(i)" class="btn btn-light-inverted p-0">
              <mat-icon
                style="display: flex; width: auto; height: auto; font-size:150%; justify-content: end; padding: 15%"
                >close</mat-icon
              >
            </button>
          </div>
        </ng-template>
        <div #tabContent>
          <router-outlet></router-outlet>
        </div>
      </mat-tab>
    </mat-tab-group>
  </ng-container>
</div>
